<Window
    x:Class="POS.WPF.LoginWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Behaviors="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:common="clr-namespace:POS.WPF.Common.ControlHelper"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="LoginWindow"
    Width="700"
    Height="400"
    common:WindowCloser.EnableWindowClosing="True"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">
    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <Behaviors:Interaction.Triggers>
            <Behaviors:EventTrigger EventName="Loaded">
                <Behaviors:InvokeCommandAction Command="{Binding ResetCmd}" />
            </Behaviors:EventTrigger>
        </Behaviors:Interaction.Triggers>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Border Background="AliceBlue">
            <Grid
                Width="250"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock
                    Grid.Row="0"
                    Margin="10"
                    FontSize="18"
                    FontWeight="Bold"
                    Foreground="DarkBlue"
                    Text="Welcome to POS"
                    TextAlignment="Center" />
                <Grid Grid.Row="1" Margin="10">
                    <materialDesign:PackIcon
                        Margin="0,0,0,5"
                        Foreground="{Binding BorderBrush, ElementName=UsernameTextBox}"
                        Kind="User" />
                    <TextBox
                        x:Name="UsernameTextBox"
                        Padding="20,0,0,0"
                        materialDesign:HintAssist.Hint="Username">
                        <TextBox.Text>
                            <Binding Path="User.Username" UpdateSourceTrigger="PropertyChanged" />
                        </TextBox.Text>
                        <TextBox.InputBindings>
                            <KeyBinding Key="Enter" Command="{Binding LoginCmd}" />
                        </TextBox.InputBindings>
                    </TextBox>
                </Grid>
                <Grid Grid.Row="2" Margin="10">
                    <materialDesign:PackIcon
                        Margin="0,0,0,5"
                        Foreground="{Binding BorderBrush, ElementName=PasswordTextBox}"
                        Kind="Key" />
                    <PasswordBox
                        x:Name="PasswordTextBox"
                        Padding="20,0,0,0"
                        common:PasswordHelper.Attach="True"
                        common:PasswordHelper.Password="{Binding User.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        materialDesign:HintAssist.Hint="Password">
                        <PasswordBox.InputBindings>
                            <KeyBinding Key="Enter" Command="{Binding LoginCmd}" />
                        </PasswordBox.InputBindings>
                    </PasswordBox>
                </Grid>
                <Button
                    Grid.Row="3"
                    Margin="10"
                    Command="{Binding LoginCmd}"
                    Content="Login" />
                <TextBlock
                    Grid.Row="4"
                    Margin="10,0"
                    FontStyle="Italic"
                    Foreground="Red"
                    Text="{Binding ErrorMessage}" />
            </Grid>
        </Border>
        <Grid Grid.Column="1">
            <Grid.Background>
                <ImageBrush
                    ImageSource="/Assets/Abuly.jpg"
                    Opacity=".6"
                    Stretch="UniformToFill" />
            </Grid.Background>
            <Border Background="Blue" Opacity=".4" />
            <StackPanel
                Margin="0,0,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
                <TextBlock
                    FontFamily="Aharoni"
                    FontSize="36"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="POINT OF SALE"
                    TextAlignment="Center" />
                <TextBlock
                    FontFamily="Calibri"
                    FontSize="12"
                    FontWeight="Bold"
                    Foreground="White"
                    Text="Copyright © Hussain Production"
                    TextAlignment="Center" />
            </StackPanel>
            <StackPanel
                Margin="20"
                HorizontalAlignment="Center"
                VerticalAlignment="Bottom"
                Orientation="Horizontal">
                <materialDesign:PackIcon
                    Width="35"
                    Height="35"
                    Margin="10"
                    Cursor="Hand"
                    Foreground="White"
                    Kind="Gmail" />
                <materialDesign:PackIcon
                    Width="35"
                    Height="35"
                    Margin="10"
                    Cursor="Hand"
                    Foreground="White"
                    Kind="Facebook" />
                <materialDesign:PackIcon
                    Width="35"
                    Height="35"
                    Margin="10"
                    Cursor="Hand"
                    Foreground="White"
                    Kind="Whatsapp" />
                <materialDesign:PackIcon
                    Width="35"
                    Height="35"
                    Margin="10"
                    Cursor="Hand"
                    Foreground="White"
                    Kind="Twitter" />
            </StackPanel>
        </Grid>
    </Grid>
</Window>
